# =============================================================================
# FLAXU ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it contains sensitive information!
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
DATABASE_URL="postgresql://flaxu_user:flaxu_password@postgres:5432/flaxu_db?schema=public"
REDIS_URL="redis://redis:6379"

# Encryption key for API keys (generate with: openssl rand -hex 32)
ENCRYPTION_KEY="your-32-byte-encryption-key-here-replace-me-with-secure-random"

# -----------------------------------------------------------------------------
# AUTHENTICATION
# -----------------------------------------------------------------------------
# NextAuth.js secret (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET="your-nextauth-secret-here-replace-with-random-string"
NEXTAUTH_URL="http://localhost:3000"

# JWT secret for backend (generate with: openssl rand -base64 32)
JWT_SECRET="your-jwt-secret-here-replace-with-random-string"
JWT_EXPIRATION="24h"

# -----------------------------------------------------------------------------
# BINGX API
# -----------------------------------------------------------------------------
# Your BingX API credentials
BINGX_API_KEY="your-bingx-api-key"
BINGX_SECRET_KEY="your-bingx-secret-key"

# Your BingX Referrer ID (for checking if users are your referrals)
BINGX_REFERRER_ID="your-bingx-user-id"

# BingX API Base URLs
BINGX_API_URL="https://open-api.bingx.com"
BINGX_TESTNET_URL="https://open-api-vst.bingx.com" # For testing

# Use testnet for development (true/false)
BINGX_USE_TESTNET="false"

# -----------------------------------------------------------------------------
# EMAIL SERVICE
# -----------------------------------------------------------------------------
# SMTP configuration for email verification and notifications
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM="FLAXU <noreply@flaxu.app>"

# Alternative: SendGrid API
# SENDGRID_API_KEY="your-sendgrid-api-key"

# -----------------------------------------------------------------------------
# EXTERNAL APIs - MARKET DATA
# -----------------------------------------------------------------------------

# CoinGecko (Free tier: 30 calls/min)
# Get free API key at: https://www.coingecko.com/en/api
COINGECKO_API_KEY="your-coingecko-api-key-optional"
COINGECKO_API_URL="https://api.coingecko.com/api/v3"

# Coinglass (Liquidation data)
# Free tier: 100 req/day | Pro: $50-100/mo
# Get API key at: https://www.coinglass.com/api
COINGLASS_API_KEY="your-coinglass-api-key-optional"
COINGLASS_API_URL="https://open-api.coinglass.com/public/v2"

# Fear & Greed Index (No API key needed)
FEAR_GREED_API_URL="https://api.alternative.me/fng/"

# Altcoin Season Index (No API key needed)
ALTCOIN_SEASON_API_URL="https://www.blockchaincenter.net/altcoin-season-index"

# Binance (for arbitrage comparison - no API key needed for public data)
BINANCE_API_URL="https://api.binance.com/api/v3"

# OKX (for arbitrage comparison)
OKX_API_URL="https://www.okx.com/api/v5"

# Bybit (for arbitrage comparison)
BYBIT_API_URL="https://api.bybit.com/v5"

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
NODE_ENV="development" # development | production | test

# Backend API Port
BACKEND_PORT="4000"

# Frontend Port (Next.js)
FRONTEND_PORT="3000"

# Python Signals Service Port
PYTHON_SIGNALS_PORT="8000"

# API Base URL (for frontend to call backend)
NEXT_PUBLIC_API_URL="http://localhost:4000"

# WebSocket URL
NEXT_PUBLIC_WS_URL="ws://localhost:4000"

# -----------------------------------------------------------------------------
# SECURITY & RATE LIMITING
# -----------------------------------------------------------------------------
# Rate limit: requests per window
RATE_LIMIT_WINDOW_MS="900000" # 15 minutes in ms
RATE_LIMIT_MAX_REQUESTS="100"

# Trading rate limit (more restrictive)
TRADING_RATE_LIMIT_WINDOW_MS="60000" # 1 minute
TRADING_RATE_LIMIT_MAX="10"

# CORS allowed origins (comma-separated)
CORS_ORIGINS="http://localhost:3000,http://localhost:3001"

# -----------------------------------------------------------------------------
# MONITORING & LOGGING
# -----------------------------------------------------------------------------
# Sentry (Error tracking)
# Get DSN at: https://sentry.io
SENTRY_DSN="your-sentry-dsn-optional"
SENTRY_ENVIRONMENT="development"

# Log level: error | warn | info | debug
LOG_LEVEL="info"

# -----------------------------------------------------------------------------
# TRADING BOT CONFIGURATION
# -----------------------------------------------------------------------------
# ICT & PA Bot settings
ICT_CONFIDENCE_THRESHOLD="75" # Only trade if confidence >= 75%
ICT_MAX_POSITION_SIZE_PERCENT="2" # Max 2% of account per trade
ICT_DEFAULT_LEVERAGE="10"
ICT_STOP_LOSS_PERCENT="1.5" # 1.5% stop loss
ICT_TAKE_PROFIT_RATIO="2" # 1:2 risk/reward ratio

# Sniper Scalp Bot settings
SNIPER_PUMP_THRESHOLD="5" # +5% price change
SNIPER_DUMP_THRESHOLD="-10" # -10% price change
SNIPER_LIQUIDATION_THRESHOLD="75" # 75% of liquidations cleared
SNIPER_TIME_WINDOW_MINUTES="5"

# Global bot safety limits
MAX_DAILY_LOSS_PERCENT="5" # Stop trading if -5% daily loss
MAX_OPEN_POSITIONS="3" # Maximum concurrent positions
PAPER_TRADING_MODE="false" # Set to true for testing without real trades

# -----------------------------------------------------------------------------
# ADMIN SETTINGS
# -----------------------------------------------------------------------------
# Admin user email (will have full access)
ADMIN_EMAIL="admin@flaxu.app"

# Inactive user threshold (days)
INACTIVE_USER_DAYS="30"

# -----------------------------------------------------------------------------
# CACHE SETTINGS
# -----------------------------------------------------------------------------
# Cache TTL (Time To Live) in seconds
CACHE_PRICE_DATA_TTL="10" # 10 seconds for real-time prices
CACHE_LIQUIDATION_DATA_TTL="30"
CACHE_FUNDING_RATES_TTL="300" # 5 minutes
CACHE_FEAR_GREED_TTL="3600" # 1 hour
CACHE_TOP_COINS_TTL="600" # 10 minutes
CACHE_ARBITRAGE_TTL="15"

# -----------------------------------------------------------------------------
# DOCKER SETTINGS (for docker-compose)
# -----------------------------------------------------------------------------
POSTGRES_USER="flaxu_user"
POSTGRES_PASSWORD="flaxu_password"
POSTGRES_DB="flaxu_db"

REDIS_PASSWORD="" # Leave empty for no password in development

# -----------------------------------------------------------------------------
# PRODUCTION ONLY
# -----------------------------------------------------------------------------
# Uncomment and set these for production deployment

# DOMAIN="flaxu.app"
# SSL_CERT_PATH="/etc/letsencrypt/live/flaxu.app/fullchain.pem"
# SSL_KEY_PATH="/etc/letsencrypt/live/flaxu.app/privkey.pem"

# Database connection pool
# DB_POOL_MIN="2"
# DB_POOL_MAX="10"

# Session settings
# SESSION_MAX_AGE="86400" # 24 hours in seconds

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
